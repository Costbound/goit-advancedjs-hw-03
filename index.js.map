{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst pixabayApiUrl = 'https://pixabay.com/api/';\n\nconst defaultConfig = {\n  key: '40945002-e125ab8d3394997b1a8dc0871',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport default async function fetchImages(searchWord, pixabayConfig = {}) {\n  return axios.get(pixabayApiUrl, {\n    params: { ...defaultConfig, ...pixabayConfig, q: searchWord },\n  });\n}\n","export function buildGalleryHtml(images) {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n            <div class=\"img-wrapper\">\n              <a href=\"${largeImageURL}\">\n                  <img\n                    class=\"gallery-img\"\n                    src=\"${webformatURL}\" \n                    alt=\"${tags}\"\n                    width=\"360\"\n                    height=\"200\">\n              </a> \n            </div>\n            <div class=\"text-wrapper\">\n              <ul class=\"img-info-list\">\n                <li class=\"info-item\">\n                  <h3 class=\"info-title\">likes</h3>\n                  <p class=\"info-text\">${likes}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3 class=\"info-title\">views</h3>\n                  <p class=\"info-text\">${views}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3 class=\"info-title\">comments</h3>\n                  <p class=\"info-text\">${comments}</p>\n                </li>\n                <li class=\"info-item\">\n                  <h3 class=\"info-title\">downloads</h3>\n                  <p class=\"info-text\">${downloads}</p>\n                </li>\n              </ul>\n            </div>\n        </li>`;\n      }\n    )\n    .join(' ');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport { buildGalleryHtml } from './js/render-functions';\n\nconst form = document.querySelector('form');\nconst [searchInput] = form.elements;\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\niziToast.settings({\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  position: 'topRight',\n  messageSize: '16px',\n  displayMode: 2,\n});\nconst simpleGallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  if (searchInput.value.trim() === '') {\n    iziToast.error({\n      message: 'Search field cannot be empty',\n      position: 'topRight',\n      messageSize: '16px',\n    });\n    return;\n  }\n  loader.classList.remove('visually-hidden');\n  fetchImages(searchInput.value.trim())\n    .then(({ data: { hits: images } }) => {\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          messageSize: '16px',\n        });\n        gallery.innerHTML = '';\n        return;\n      }\n      const buildedGallaryHtml = buildGalleryHtml(images);\n      gallery.innerHTML = buildedGallaryHtml;\n      simpleGallery.refresh();\n    })\n    .catch(() => {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n        messageSize: '16px',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('visually-hidden');\n    });\n});\n"],"names":["pixabayApiUrl","defaultConfig","fetchImages","searchWord","pixabayConfig","axios","buildGalleryHtml","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","searchInput","gallery","loader","iziToast","simpleGallery","SimpleLightbox","e","buildedGallaryHtml"],"mappings":"owBAEA,MAAMA,EAAgB,2BAEhBC,EAAgB,CACpB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEe,eAAeC,EAAYC,EAAYC,EAAgB,GAAI,CACxE,OAAOC,EAAM,IAAIL,EAAe,CAC9B,OAAQ,CAAE,GAAGC,EAAe,GAAGG,EAAe,EAAGD,CAAY,CACjE,CAAG,CACH,CCfO,SAASG,EAAiBC,EAAQ,CACvC,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,yBAEUN,CAAa;AAAA;AAAA;AAAA,2BAGXC,CAAY;AAAA,2BACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASUC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAM7C,EACA,KAAK,GAAG,CACb,CCxCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpC,CAACC,CAAW,EAAID,EAAK,SACrBE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CC,EAAS,SAAS,CAChB,QACE,2EACF,SAAU,WACV,YAAa,OACb,YAAa,CACf,CAAC,EACD,MAAMC,EAAgB,IAAIC,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDN,EAAK,iBAAiB,SAAU,MAAMO,GAAK,CAEzC,GADAA,EAAE,eAAc,EACZN,EAAY,MAAM,KAAI,IAAO,GAAI,CACnCG,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,YAAa,MACnB,CAAK,EACD,MACD,CACDD,EAAO,UAAU,OAAO,iBAAiB,EACzChB,EAAYc,EAAY,MAAM,MAAM,EACjC,KAAK,CAAC,CAAE,KAAM,CAAE,KAAMT,CAAQ,CAAA,IAAO,CACpC,GAAIA,EAAO,SAAW,EAAG,CACvBY,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,YAAa,MACvB,CAAS,EACDF,EAAQ,UAAY,GACpB,MACD,CACD,MAAMM,EAAqBjB,EAAiBC,CAAM,EAClDU,EAAQ,UAAYM,EACpBH,EAAc,QAAO,CAC3B,CAAK,EACA,MAAM,IAAM,CACXD,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,WACV,YAAa,MACrB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbD,EAAO,UAAU,IAAI,iBAAiB,CAC5C,CAAK,CACL,CAAC"}